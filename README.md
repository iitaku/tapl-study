第X回 型システム入門勉強会
==========================

# 第5章 型無しラムダ計算 

## おさらい

Q1. ラムダ計算ってなんですか？

関数とその適用規則のみで表現された数理体系のことです。
文法は以下のとおり。

    t ::=                     項:
          x                 変数
          \x.t        ラムダ抽象
          t t           関数適用
    

たった4行の短い文法ですが、あらゆる計算を表現可能です。

Q2. どのへんが「形無し」なんですか？

そもそも本書における「型」について学んでないので「型無し」と言われても・・・という感じではありますが、
「項の定義において、右辺に再帰的に現れる項についていかなる制限も存在しないこと」
と捉えてよいと思います。

5.2「ラムダ計算でのプログラミング」ではChrch数の定義とその計算体系についてまとめられていました。

この体系は直感とは反する動きをする事があります。
たとえば、Chrchブール値は真偽値を表し、Chrch数は整数値を表していました。

    tru = \t -> \f -> t
    c0 = \s -> \z -> z

さらに、加算plusの定義は以下のとおり:

    plus = \m -> \n -> \s -> \z -> m s (n s z)
    
この定義において、plus tru c0という項は、ラムダ計算上は評価可能です。

    plus tru c0 = ((\m -> \n -> \s -> \z -> m s (n s z)) tru) c0
                = (\n -> \s -> \z -> tru s (n s z)) c0
                = \s -> \z -> tru s (c0 s z)
                = \s -> \z -> c0 s z
                = \s -> \z -> z

最終的にc0と等価なラムダ抽象へと簡約されていますが、これは明らかに直感に反しています。
そもそも真偽値と整数値を加算できること自体が、起きてはならない事象なのですから。
これは関数に型が無いゆえに起きる問題です。

----

と書いたところで、p.43の値呼び戦略の評価の完了を見ていてふと疑問が・・・

    id (id (\z -> id z)) = id (\z -> id z)
                         = \z -> id z (完了)

なんでid zはzへと簡約されないのでしょうか？

 - zが閉じた項ではないから
 - 抽象内部での簡約を許さないから

これをふまえると、簡約基(tru s (c1 s z)をc0 s zへと監訳していいものか甚だ疑問ですが、
するとplus c0 c1のような妥当な式もc2へ簡約できません。

何が間違っているのでしょうか？

## 5.3 形式的議論

まずラムダ計算の構文を形式的に定義する。

